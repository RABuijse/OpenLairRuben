<div *ngIf="isLoaded">
  <mat-form-field>
    <mat-select
      placeholder="Learning Events/Objectives"
      name="Select"
      [(ngModel)]="selected"
      multiple
      #selectionModel="ngModel"
      (valueChange)="learningValueChange($event)"
    >
      <app-select-check-all
        [model]="selectionModel"
        [values]="options"
        (sendCount)="learningValueChange($event)"
      >
      </app-select-check-all>
      <mat-option *ngFor="let option of options" [value]="option">
        {{ option }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>
<div>
  <ng-multiselect-dropdown
    class="dropdown-menu"
    [placeholder]="'Learning Activities'"
    [data]="dropdownList"
    [(ngModel)]="selectedItems"
    [settings]="dropdownSettings"
    (onSelect)="onItemSelect($event)"
    (onSelectAll)="onSelectAll($event)"
    (onDeSelect)="checkvalue($event)"
  >
  </ng-multiselect-dropdown>
</div>
<div>
  <input
    matInput
    [(ngModel)]="searchText"
    placeholder="Search Meterics"
    (change)="learningEventsChangeOnSearch(searchText)"
  />
</div>
<ng-template #secondDialog>
  <h2 matDialogTitle>Meterics</h2>
  <mat-dialog-content>
    <ul style="line-height: 20%" *ngFor="let mat of sp">
      <li>{{ mat }}</li>
    </ul>
  </mat-dialog-content>
  <button mat-button mat-dialog-close>Close</button>
</ng-template>


<table class="center">
  <thead>
    <th>Learning Events/Objectives</th>
    <div>
      <th style=" margin-left: 40px;">Learning <br />Activities</th>
    </div>
    <div style=" margin-left: 80px;"><th>Indicators</th></div>
  </thead>

  <!-- for loop for learning events -->
  <tr *ngFor="let learningEvents of data">
    <td style="width: 15; "class="leraningevents" >{{ learningEvents.LearningEvents }}</td>
    <td >
      <tr 
        
        class="activities"
        *ngFor="let LearningActivities of learningEvents.LearningActivities"
      >
        <td style="width: 15; ">
          {{ LearningActivities.Name }}
        </td>
        <td style="width: 80%;">
          <!-- loop for indicators -->
          <tr *ngFor="let indic of LearningActivities.indicator">
            <a class="sortable" (click)="getMeterics(indic)">
              {{ indic.indicatorName }}
            </a>

            <td *ngIf="searchText">
              <tr>
                <a class="sortable">
                  {{ indic.metrics }}
                </a>
              </tr>
            </td>
          </tr>
        </td>
      </tr>
    </td>
  </tr>
</table> 
